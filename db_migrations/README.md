Temporary custom migration functionality. TODO: set up alembic or something else to handle this better.